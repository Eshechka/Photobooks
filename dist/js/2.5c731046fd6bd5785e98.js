(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{213:function(t,e,s){},215:function(t,e,s){"use strict";var r=s(213);s.n(r).a},217:function(t,e,s){"use strict";s.r(e);var r=s(2),a=s(0),i=s(1),n={components:{appUI:s(26).a},data(){return{stateEnter:!0,stateRegistration:!1,stateForgotPassword:!1,loginError:!1,regError:!1,urlInlineSvgSprite:s(28).default,logindata:{title:this.stateRegistration?"Регистрация":"Добро пожаловать",text:this.stateRegistration?"":"Перед вами сервис, который поможет вам организовать свои фотографии в альбомы и поделиться ими со всем миром!"},registerUser:{name:"",email:"",password:"",passwordConfirm:""},loginUser:{email:"",password:""}}},validations:{registerUser:{name:{required:i.required,minLength:Object(i.minLength)(2),maxLength:Object(i.maxLength)(30)},email:{minLength:Object(i.minLength)(8),maxLength:Object(i.maxLength)(50),required:i.required},password:{required:i.required,minLength:Object(i.minLength)(8),maxLength:Object(i.maxLength)(30)}}},methods:{...Object(r.b)("user",["login"]),loginHandle(){a.b.post("/login",this.loginUser).then(t=>{const e=t.data.access_token;a.b.defaults.headers.Authorization="Bearer "+e,localStorage.setItem("token",e),this.login(t.data.user),this.$router.replace("/"+t.data.user.id)}).catch(t=>{this.loginError=!0})},registerHandle(){a.b.post("/register",this.registerUser).then(t=>{const e=t.data.access_token;a.b.defaults.headers.Authorization="Bearer "+e,localStorage.setItem("token",e),this.login(t.data.user),this.$router.replace("/"+t.data.user.id)}).catch(t=>{this.regError=!0})},forgotHandle(){},clickYesErrorAlert(){this.loginError=!1,this.regError=!1,this.loginUser={email:"",password:""}}}},o=(s(215),s(3)),l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[t.loginError||t.regError?s("div",{staticClass:"wrapper__overlay wrapper__overlay_black",on:{click:function(e){t.loginError=t.regError=!1}}}):t._e(),t._v(" "),s("section",{staticClass:"login"},[t.loginError||t.regError?s("div",{staticClass:"login__ui"},[s("appUI",{attrs:{textUI:t.loginError?"Неверная пара логин-пароль":"Необходимо корректно заполнить все поля",yesText:"OK"},on:{"yes-ui":t.clickYesErrorAlert}})],1):t._e(),t._v(" "),s("div",{staticClass:"login__container"},[s("div",{staticClass:"login__greeting"},[s("h1",{staticClass:"login__title"},[t._v(t._s(t.logindata.title))]),t._v(" "),s("p",{staticClass:"login__text"},[t._v(t._s(t.logindata.text))])]),t._v(" "),s("div",{staticClass:"login__form"},[t.stateRegistration?s("form",{staticClass:"registration",on:{submit:function(e){return e.preventDefault(),t.registerHandle(e)}}},[s("label",{staticClass:"registration__label registration__label_name"},[s("svg",{staticClass:"registration__icon registration__icon_name"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#name"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerUser.name,expression:"registerUser.name"}],staticClass:"registration__input registration__input_name",attrs:{type:"text",placeholder:"Имя"},domProps:{value:t.registerUser.name},on:{input:function(e){e.target.composing||t.$set(t.registerUser,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"registration__error registration__error_name"},[t.$v.registerUser.name.minLength?t.$v.registerUser.name.maxLength?s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.name.$invalid,expression:"$v.registerUser.name.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tОбязательно для заполнения\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.name.$invalid,expression:"$v.registerUser.name.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМаксимум символов в имени: "+t._s(t.$v.registerUser.name.$params.maxLength.max)+"\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.name.$invalid,expression:"$v.registerUser.name.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМинимум символов в имени: "+t._s(t.$v.registerUser.name.$params.minLength.min)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("label",{staticClass:"registration__label registration__label_email"},[s("svg",{staticClass:"registration__icon registration__icon_email"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#envelope"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerUser.email,expression:"registerUser.email"}],staticClass:"registration__input registration__input_email",attrs:{type:"text",placeholder:"Электронная почта"},domProps:{value:t.registerUser.email},on:{input:function(e){e.target.composing||t.$set(t.registerUser,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"registration__error registration__error_email"},[t.$v.registerUser.email.minLength?t.$v.registerUser.email.maxLength?s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.email.$invalid,expression:"$v.registerUser.email.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tОбязательно для заполнения\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.email.$invalid,expression:"$v.registerUser.email.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМаксимум символов в email: "+t._s(t.$v.registerUser.email.$params.maxLength.max)+"\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.email.$invalid,expression:"$v.registerUser.email.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМинимум символов в email: "+t._s(t.$v.registerUser.email.$params.minLength.min)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("label",{staticClass:"registration__label registration__label_password"},[s("svg",{staticClass:"registration__icon registration__icon_password"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#password"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerUser.password,expression:"registerUser.password"}],staticClass:"registration__input registration__input_password",attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.registerUser.password},on:{input:function(e){e.target.composing||t.$set(t.registerUser,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"registration__error registration__error_password"},[t.$v.registerUser.password.minLength?t.$v.registerUser.password.maxLength?s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.password.$invalid,expression:"$v.registerUser.password.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tОбязательно для заполнения\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.password.$invalid,expression:"$v.registerUser.password.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМаксимум символов в paпаролеssword: "+t._s(t.$v.registerUser.password.$params.maxLength.max)+"\n\t\t\t\t\t\t\t")]):s("span",{directives:[{name:"show",rawName:"v-show",value:t.$v.registerUser.password.$invalid,expression:"$v.registerUser.password.$invalid"}]},[t._v("\n\t\t\t\t\t\t\t\tМинимум символов в пароле: "+t._s(t.$v.registerUser.password.$params.minLength.min)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("label",{staticClass:"registration__label registration__label_password"},[s("svg",{staticClass:"registration__icon registration__icon_password"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#password"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerUser.passwordConfirm,expression:"registerUser.passwordConfirm"}],staticClass:"registration__input registration__input_password",attrs:{type:"password",placeholder:"Подтвердите пароль"},domProps:{value:t.registerUser.passwordConfirm},on:{input:function(e){e.target.composing||t.$set(t.registerUser,"passwordConfirm",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"registration__error registration__error_password"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.registerUser.passwordConfirm!==t.registerUser.password,expression:"registerUser.passwordConfirm !== registerUser.password"}]},[t._v("\n\t\t\t\t\t\t\t\tПароли не совпадают\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"registration__wrapper"},[s("p",{staticClass:"registration__text"},[t._v("Ваши данные остаются строго конфиденциальны")]),t._v(" "),s("div",{staticClass:"registration__submit"},[s("button",{staticClass:"button button_size_l",attrs:{type:"submit",disabled:t.$v.registerUser.$invalid||t.registerUser.passwordConfirm!==t.registerUser.password,title:t.$v.registerUser.$invalid?"Необходимо корректно заполнить все поля":"Нажмите для регистрации нового пользователя"}},[t._v("Создать аккаунт")])]),t._v(" "),s("div",{staticClass:"registration__toenter"},[s("p",{staticClass:"registration__text"},[t._v("Уже зарегистрированы?")]),t._v(" "),s("button",{staticClass:"button button_theme_minimalizm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.stateRegistration=!t.stateRegistration,t.stateEnter=!t.stateEnter}}},[t._v("Войти")])])])]):t._e(),t._v(" "),t.stateEnter?s("form",{staticClass:"enter",on:{submit:function(e){return e.preventDefault(),t.loginHandle(e)}}},[s("label",{staticClass:"enter__label enter__label_email"},[s("svg",{staticClass:"enter__icon enter__icon_email"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#envelope"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginUser.email,expression:"loginUser.email"}],staticClass:"enter__input enter__input_email",attrs:{type:"text",placeholder:"Электронная почта"},domProps:{value:t.loginUser.email},on:{input:function(e){e.target.composing||t.$set(t.loginUser,"email",e.target.value)}}})]),t._v(" "),s("label",{staticClass:"enter__label enter__label_password"},[s("svg",{staticClass:"enter__icon enter__icon_password"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#password"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginUser.password,expression:"loginUser.password"}],staticClass:"enter__input enter__input_password",attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.loginUser.password},on:{input:function(e){e.target.composing||t.$set(t.loginUser,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"enter__wrapper"},[s("button",{staticClass:"button button_theme_minimalizm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.stateForgotPassword=!t.stateForgotPassword,t.stateEnter=!t.stateEnter}}},[t._v("Забыли пароль?")]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"enter__toregistration"},[s("p",{staticClass:"enter__text"},[t._v("Нет аккаунта?")]),t._v(" "),s("button",{staticClass:"button button_theme_minimalizm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.stateRegistration=!t.stateRegistration,t.stateEnter=!t.stateEnter}}},[t._v("Зарегистрироваться")])])])]):t._e(),t._v(" "),t.stateForgotPassword?s("form",{staticClass:"forgot",on:{submit:function(e){return e.preventDefault(),t.forgotHandle(e)}}},[t._m(1),t._v(" "),s("label",{staticClass:"forgot__label forgot__label_email forgot__label_topborder"},[s("svg",{staticClass:"forgot__icon forgot__icon_email"},[s("use",{attrs:{"xlink:href":t.urlInlineSvgSprite+"#envelope"}})]),t._v(" "),s("input",{staticClass:"forgot__input forgot__input_email",attrs:{type:"text",placeholder:"Электронная почта"}})]),t._v(" "),s("div",{staticClass:"forgot__wrapper forgot__wrapper_bottom"},[t._m(2),t._v(" "),s("div",{staticClass:"forgot__toanotherform forgot__toanotherform_center"},[s("p",{staticClass:"forgot__text"},[t._v("Вспомнили пароль?")]),t._v(" "),s("button",{staticClass:"button button_theme_minimalizm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.stateForgotPassword=!t.stateForgotPassword,t.stateEnter=!t.stateEnter}}},[t._v("Войти")])])])]):t._e()]),t._v(" "),t._m(3)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"enter__submit"},[e("button",{staticClass:"button button_size_l",attrs:{type:"submit"}},[this._v("Войти")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"forgot__wrapper"},[e("h4",{staticClass:"forgot__title"},[this._v("Забыли пароль?")]),this._v(" "),e("p",{staticClass:"forgot__text"},[this._v("Ничего страшного, введите свой email и мы вышлем инструкции по восстановлению пароля")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"forgot__submit"},[e("button",{staticClass:"button button_size_l",attrs:{type:"submit"}},[this._v("Восстановить пароль")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login__footer"},[this._v(" \n\t\t\t\t\t2020 | Создано командой профессионалов: "),e("a",{attrs:{target:"_blank",href:"https://vk.com/id594716031"}},[this._v("Lidia")]),this._v(" & "),e("a",{attrs:{target:"_blank",href:"https://xeniaweb.ch/"}},[this._v("XeniaWeb")])])}],!1,null,null,null);e.default=l.exports}}]);